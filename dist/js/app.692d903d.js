(function(){"use strict";var e={8644:function(e,t,a){var l=a(9746),n=a(5976);function o(e,t,a,l,o,r){const u=(0,n.g2)("AllViews");return(0,n.uX)(),(0,n.Wv)(u)}a(4114),a(6573),a(8100),a(7936),a(7467),a(4732),a(9577),a(4603),a(7566),a(8721);var r=a(160),u=a(2040),i=a(6274),s=a(6201);const c=e=>((0,n.Qi)("data-v-10c47026"),e=e(),(0,n.jt)(),e),d={style:{display:"flex","justify-content":"space-between"}},p=c((()=>(0,n.Lk)("img",{style:{width:"100px"},src:"nbk_logo.jpeg"},null,-1))),f={style:{display:"flex","justify-content":"center",padding:"10px"}},v={key:0,style:{"margin-top":"100px"}},y=c((()=>(0,n.Lk)("label",{for:"file-upload",class:"custom-file-upload"},"Select Files",-1))),h={key:0},g={key:1,style:{"text-decoration":"none","padding-top":"50px","font-size":"20px","font-weight":"700"}},O=["href","download"],w={key:2},k={key:1},P=c((()=>(0,n.Lk)("div",null,[(0,n.Lk)("h1",null,"Split PDF file according to court")],-1))),m={style:{display:"flex"}},b={style:{width:"50%"}},C=c((()=>(0,n.Lk)("label",{for:"file-upload2",class:"custom-file-upload"},"Select File",-1))),F=["disabled"],x={key:0,style:{color:"red"}},K=c((()=>(0,n.Lk)("p",null,"Failed to process the PDF. It might be corrupted.",-1))),D=[K],E=["href","download"],J={key:0,style:{"text-align":"center",width:"50%",height:"500px",overflow:"scroll"}};var M={__name:"AllViews",setup(e){const t=(0,u.KR)("Extract"),a=(0,u.KR)([]),o=(0,u.KR)([]),c=(0,u.KR)(0),K=(0,u.KR)(1),M=(0,u.KR)([]),L=async()=>{c.value=a.value.length,o.value=[];const e=await Promise.all(a.value.map((async e=>{try{const t=new Uint8Array(await e.arrayBuffer()),a=await i.PDFDocument.load(t);return c.value--,a}catch(t){return console.error("Failed to load PDF:",t),o.value.push(e.name),c.value--,null}}))),t=e.filter((e=>null!==e)),l=await Promise.all(Array.from({length:K.value},(()=>i.PDFDocument.create())));let n=0;for(const a of t)try{const e=await l[n].copyPages(a,[0]),t=e[0];l[n].addPage(t),n=(n+1)%K.value}catch(r){console.error("Error copying pages:",r)}for(const a of l){const e=await a.save(),t=new Blob([e],{type:"application/pdf"});M.value.push(URL.createObjectURL(t))}},A=(0,u.KR)([]),I=["MOJPACI27@MOJ.GOV.KW","MOJPACI28@MOJ.GOV.KW","MOJPACI29@MOJ.GOV.KW","MOJPACI30@MOJ.GOV.KW","MOJPACI31@MOJ.GOV.KW","MOJPACI32@MOJ.GOV.KW","MOJPACI33@MOJ.GOV.KW","MOJPACI34@MOJ.GOV.KW","MOJPACI35@MOJ.GOV.KW","MOJPACI36@MOJ.GOV.KW","MOJPACI37@MOJ.GOV.KW","MOJPACI38@MOJ.GOV.KW"],X=(0,u.KR)(null),V=(0,u.KR)(null),R=(0,u.KR)(!1),G=(0,u.KR)([]),j=async e=>{const t=e.target.files[0];if(t)try{const e=new Uint8Array(await t.arrayBuffer());X.value=e,V.value=await i.PDFDocument.load(e),A.value.unshift("PDF loaded successfully.")}catch(a){console.error("Failed to load PDF file:",a),R.value=!0}},W=async()=>{R.value=!1,G.value=[];const e=[];try{if(!X.value||!V.value)throw new Error("No valid PDF file loaded.");const t=await s.getDocument({data:X.value}).promise;A.value.unshift(`PDF loaded with ${t.numPages} pages.`);const a=await Promise.all(Array.from({length:t.numPages},((e,a)=>t.getPage(a+1).then((e=>e.getTextContent().then((e=>e.items.map((e=>e.str)).join(" ")))))))),l=I.map((async l=>{const n=await i.PDFDocument.create();let o=!1;for(let e=0;e<t.numPages;e++){const t=a[e];if(t.includes(l)){const[t]=await n.copyPages(V.value,[e]);n.addPage(t),o=!0,A.value.unshift(`Page ${e+1} added for ${l}`)}}if(o){const t=await n.save(),a=new Blob([t],{type:"application/pdf"});e.push({email:l,url:URL.createObjectURL(a)}),A.value.unshift(`PDF generated for ${l}`)}}));await Promise.all(l),G.value=e,A.value.unshift("All PDFs processed successfully.")}catch(t){console.error("Error processing PDF:",t),R.value=!0}};return(e,u)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",d,[p,(0,n.Lk)("div",f,[(0,n.Lk)("div",{class:"pressable-button",onClick:u[0]||(u[0]=e=>t.value="Extract"),style:(0,r.Tr)("Extract"==t.value?{background:"#2c3e50",color:"white"}:{})},"Extract & Divide",4),(0,n.Lk)("div",{class:"pressable-button",onClick:u[1]||(u[1]=e=>t.value="Separate"),style:(0,r.Tr)("Separate"==t.value?{background:"#2c3e50",color:"white"}:{})},"Separate Courts",4)])]),"Extract"==t.value?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.bo)((0,n.Lk)("input",{class:"styled-number-input",type:"number","onUpdate:modelValue":u[2]||(u[2]=e=>K.value=e)},null,512),[[l.Jo,K.value]]),(0,n.Lk)("input",{type:"file",multiple:"",accept:"application/pdf",onChange:u[3]||(u[3]=e=>a.value=[...e.target.files]),id:"file-upload",hidden:""},null,32),y,(0,n.Lk)("button",{onClick:L,class:"pressable-button",style:{height:"50px","font-size":"20px","font-weight":"700"}},"Generate PDF"),c.value?((0,n.uX)(),(0,n.CE)("p",h,"Files remaining: "+(0,r.v_)(c.value),1)):(0,n.Q3)("",!0),M.value.length>0?((0,n.uX)(),(0,n.CE)("div",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(M.value,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("a",{href:e,download:`combined-${t+1}.pdf`},"Download PDF "+(0,r.v_)(t+1),9,O)])))),128))])):(0,n.Q3)("",!0),o.value.length>0?((0,n.uX)(),(0,n.CE)("ul",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},"Corrupted: "+(0,r.v_)(e),1)))),128))])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),"Separate"==t.value?((0,n.uX)(),(0,n.CE)("div",k,[P,(0,n.Lk)("div",m,[(0,n.Lk)("div",b,[(0,n.Lk)("input",{type:"file",accept:"application/pdf",onChange:j,id:"file-upload2",hidden:""},null,32),C,(0,n.Lk)("button",{onClick:W,disabled:!X.value,class:"pressable-button",style:{height:"50px","font-size":"20px","font-weight":"700"}},"Generate PDFs",8,F),R.value?((0,n.uX)(),(0,n.CE)("div",x,D)):(0,n.Q3)("",!0),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(G.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.email},[(0,n.Lk)("a",{href:e.url,download:`${e.email}.pdf`}," Download "+(0,r.v_)(e.email)+"'s PDF ",9,E)])))),128))])]),A.value.length>0?((0,n.uX)(),(0,n.CE)("div",J,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(A.value,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},(0,r.v_)(e),1)))),128))])):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0)]))}},L=a(1169);const A=(0,L.A)(M,[["__scopeId","data-v-10c47026"]]);var I=A,X={name:"App",components:{AllViews:I}};const V=(0,L.A)(X,[["render",o]]);var R=V;(0,l.Ef)(R).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var u=!0,i=0;i<l.length;i++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(u=!1,o<r&&(r=o));if(u){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,r=l[0],u=l[1],i=l[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(n in u)a.o(u,n)&&(a.m[n]=u[n]);if(i)var c=i(a)}for(t&&t(l);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self["webpackChunknbkpdfextractor"]=self["webpackChunknbkpdfextractor"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(8644)}));l=a.O(l)})();
//# sourceMappingURL=app.692d903d.js.map